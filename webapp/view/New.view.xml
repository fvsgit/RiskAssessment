<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="riskassessment.controller.New"
	xmlns:html="http://www.w3.org/1999/xhtml" xmlns:semantic="sap.m.semantic" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form">
	<semantic:DetailPage id="page" title="New Risk" showNavButton="true" navButtonPress="onNavBack">
		<semantic:content>
			<f:SimpleForm id="SimpleFormChange354" editable="true" layout="ResponsiveGridLayout" title="General" labelSpanXL="3" labelSpanL="3"
				labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1"
				columnsL="1" columnsM="1" singleContainerFullSize="false">
				<f:content>
					<Label text="Name" required="true"/>
					<Input value="{NewModel>/NewEntry/Name}"/>
					<Label text="Description"/>
					<Input value="{NewModel>/NewEntry/Description}"></Input>
				</f:content>
			</f:SimpleForm>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="Classification" labelSpanXL="3" labelSpanL="3" labelSpanM="3"
				labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1"
				singleContainerFullSize="false">
				<f:content>
					<Label text="Likelihood" required="true"/>
					<HBox>
						<Input value="{NewModel>/NewEntry/Likelihood}" editable="false"></Input>
						<Button id="btnSelectLikelihood" text="Select" press="onPress_SelectDialog"></Button>
					</HBox>
					<Label text="Consequence" required="true"/>
					<HBox>
						<Input value="{NewModel>/NewEntry/Concequence}" editable="false"></Input>
						<Button id="btnSelectConcequence" text="Select" press="onPress_SelectDialog"></Button>
					</HBox>
					<Label text="Score" required="true" visible="{= ${NewModel>/NewEntry/Score} > 0 }"/>
					<ObjectStatus class="sapUiSmallMarginBottom" visible="{= ${NewModel>/NewEntry/Score} > 0 }"
						text="{NewModel>/NewEntry/Score} - {NewModel>/NewEntry/ScoreText}" state="{NewModel>/NewEntry/ScoreState}"
						icon="{= ${NewModel>/NewEntry/ScoreState} === 'Error' ? 'sap-icon://error' : ${NewModel>/NewEntry/ScoreState} === 'Warning' ? 'sap-icon://message-warning' : 'sap-icon://message-success' }"/>
					<Label text="Manager Signature" required="true" visible="{= ${NewModel>/NewEntry/Score} >= 18 }"/>
					<TextArea rows="4" visible="{= ${NewModel>/NewEntry/Score} >= 18 }"></TextArea>
				</f:content>
			</f:SimpleForm>
			<f:SimpleForm editable="true" layout="ResponsiveGridLayout" title="Involved Parties" labelSpanXL="3" labelSpanL="3" labelSpanM="3"
				labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1"
				singleContainerFullSize="false">
				<f:content>
					<List id="lstInvolvedParties" mode="Delete" items="{main>/InvolvedParties}" delete="onDelete_lstInvolvedParties">
						<headerToolbar>
							<Toolbar>
								<ToolbarSpacer/>
								<Button id="btnAdd" icon="sap-icon://add" press="onPress_SelectDialog" text="Add New"/>
							</Toolbar>
						</headerToolbar>
						<items>
							<CustomListItem>
								<HBox>
									<core:Icon size="2rem" src="{main>Signature}" class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"/>
									<VBox class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom">
										<Label text="{main>FirstName} {main>LastName}"></Label>
										<Label text="{main>JobTitle}"/>
									</VBox>
								</HBox>
							</CustomListItem>
						</items>
					</List>
				</f:content>
			</f:SimpleForm>
		</semantic:content>
		<semantic:positiveAction>
			<semantic:PositiveAction id="btnSave" text="Save" press="onPress_btnSave"/>
		</semantic:positiveAction>
		<semantic:negativeAction>
			<semantic:NegativeAction id="btnCancel" text="Cancel" press="onPress_btnCancel"/>
		</semantic:negativeAction>
	</semantic:DetailPage>
</mvc:View>